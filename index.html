<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>For You</title>
<style>
:root{--bg:#0f0f10;--accent:#e63946;}
body{
    margin:0;
    background:var(--bg);
    color:#fff;
    font-family:'Georgia', serif;
    font-weight:bold;
    transition: background 2s ease;
}
.center{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    padding:32px;
    text-align:center;
}
h1{
    font-size:2.5rem;
    margin:0 0 12px;
    opacity:0;
    animation:fadeIn 1.2s forwards;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.static-heart{
    width:64px;height:64px;
    position:relative;
    margin:16px auto;
    transform:rotate(-45deg);
}
.static-heart:before,.static-heart:after{
    content:'';position:absolute;width:64px;height:64px;
    background:var(--accent);border-radius:50%;
}
.static-heart{background:var(--accent)}
.static-heart:before{top:-32px;left:0}
.static-heart:after{left:32px;top:0}
button{
    background:var(--accent);
    color:#fff;
    border:0;
    padding:12px 22px;
    border-radius:10px;
    font-size:1.05rem;
    cursor:pointer;
    box-shadow:0 6px 20px rgba(0,0,0,0.4);
}
.float-heart{
    position:fixed;
    font-size:36px;
    line-height:1;
    pointer-events:none;
    opacity:0;
    transform:translateY(0) scale(0.7) rotate(0deg);
    text-shadow:0 6px 18px rgba(0,0,0,0.45);
}
@keyframes floatUp{
    0%{opacity:0;transform:translateY(0) scale(0.6)}
    10%{opacity:1}
    100%{opacity:0;transform:translateY(-700px) scale(1.05)}
}
#page2{
    display:none;
    padding:48px;
    max-width:900px;
    margin:0 auto;
}
#typedText{
    white-space:pre-wrap;
    font-size:1.15rem;
    line-height:1.7;
    margin-bottom:60px;
}
.word{opacity:0;display:inline-block;transform:translateY(6px);transition:opacity .35s ease, transform .35s ease;}
.word.show{opacity:1;transform:none;}
.section{margin-bottom:60px;opacity:0;transform:translateY(20px);transition:opacity 1s ease, transform 1s ease;}
.section.visible{opacity:1;transform:translateY(0);}
h2{font-size:1.8rem;margin-bottom:10px;}
.romanticText{font-weight:700;font-size:1.2rem;color:#ff6b81;margin-top:12px;}
img{width:100%;max-width:480px;border-radius:14px;margin-top:16px;box-shadow:0 4px 18px rgba(0,0,0,0.4);}
#countUp{
    font-size:2.2rem;
    font-weight:700;
    margin-top:20px;
    color:#ffb3e6;
}
#afterMessageImg{
    width:100%;
    max-width:500px;
    border-radius:14px;
    margin:60px auto 30px auto;
    display:block;
    box-shadow:0 4px 20px rgba(0,0,0,0.5);
    opacity:0;
    transition:opacity 1.5s ease;
}
#afterMessageImg.visible{opacity:1;}
.vow{
    opacity:0;
    transition: opacity 1.5s ease, text-shadow 1.5s ease;
    text-shadow: 0 0 6px rgba(255,192,203,0.5);
    margin-top:12px;
}
.vow.visible{
    opacity:1;
    text-shadow: 0 0 12px rgba(255,192,203,0.9);
}
/* Final interactive heart */
#finalHeartBtn{
    margin-top:40px;
    font-size:2rem;
    padding:18px 30px;
    border-radius:50%;
    border:none;
    background:var(--accent);
    color:#fff;
    cursor:pointer;
    box-shadow:0 0 20px rgba(255,105,129,0.7);
    animation:glow 1.5s infinite alternate;
}
@keyframes glow{
    from {box-shadow:0 0 20px rgba(255,105,129,0.7);}
    to {box-shadow:0 0 40px rgba(255,105,129,1);}
}
#finalMessage{
    font-size:1.5rem;
    margin-top:30px;
    opacity:0;
    transition: opacity 2s ease;
    color:#ffb3e6;
    line-height:1.6;
    text-align:center;
}
</style>
</head>
<body>

<!-- PAGE 1 -->
<div id="page1" class="center">
    <h1>For you, my love</h1>
    <div class="static-heart"></div>
    <button id="pressBtn">Press Me</button>
</div>

<!-- PAGE 2 -->
<div id="page2">
    <p id="typedText"></p>

    <!-- Image after message -->
    <img id="afterMessageImg" src="img1.jpg" alt="Special moment" />

    <!-- Memory Sections -->
    <div id="memorySections" style="display:none;">
        <div class="section" id="countSection">
            <h2>How long it's been since we made it official</h2>
            <div id="countUp">Loading...</div>
        </div>

        <div class="section">
            <h2>Our first "I love you"</h2>
            <p>15 November 2024</p>
        </div>

        <div class="section">
            <h2>A funny memory</h2>
            <img src="funny.jpg" alt="Funny memory" />
            <p class="romanticText">you kept beating me that day</p>
        </div>

        <div class="section">
            <h2>A memory I'll never forget</h2>
            <img src="memory.jpg.jpeg" alt="Unforgettable memory" />
            <p class="romanticText">I'll forever and deeply cherish these, deep below my heart</p>
        </div>

        <!-- Personal Vow Section -->
        <div class="section" id="vowSection">
            <h2>My promises to you</h2>
            <p class="romanticText vow">I promise to never let a day pass without making you feel loved.</p>
            <p class="romanticText vow">I promise to be gentler with your heart.</p>
            <p class="romanticText vow">I promise to be a man you feel safe growing with.</p>
            <p class="romanticText vow">I promise to listen, really listen, to your heart when you need me.</p>
            <p class="romanticText vow">I promise to be honest, even when the truth is hard to say.</p>
            <p class="romanticText vow">I promise to grow with you, and never let us drift apart.</p>
            <p class="romanticText vow">I promise to never take you for granted, and always show my appreciation.</p>
            <p class="romanticText vow">And finally, I promise to always choose you, every single day.</p>
        </div>

        <!-- Final interactive heart -->
        <div class="section" id="finalSection" style="text-align:center; margin-top:50px;">
            <button id="finalHeartBtn">Press me for your final surprise</button>
            <p id="finalMessage">Thank you for loving me. Thank you for staying.<br>I want a lifetime with you.</p>
        </div>
    </div>
</div>

<!-- MUSIC -->
<audio id="music" src="apocalypse.mp3.mp3" preload="auto"></audio>

<script>
// Hearts animation
function rand(min,max){return Math.random()*(max-min)+min;}
function spawnHearts(count){
    for(let i=0;i<count;i++){
        const h=document.createElement('div');
        h.className='float-heart';
        h.textContent='❤';
        h.style.left=rand(5,95)+'vw';
        h.style.bottom='-10vh';
        h.style.fontSize=Math.floor(rand(24,52))+'px';
        const dur=rand(4,6);
        h.style.animation=`floatUp ${dur}s linear forwards`;
        document.body.appendChild(h);
        setTimeout(()=>h.remove(), dur*1000+300);
    }
}

// Typed message
const message=`My princess, I can’t believe it’s been a whole year with you, a year of learning your heart, a year of falling deeper into you, a year of realising again and again that you’re the person I want to wake up to, lean on, laugh with, and love in every quiet and loud moment we are given. And yes, I know we argue sometimes, we misunderstand each other, we get emotional, we get stubborn, but even those moments matter to me because they remind me how much I want this, how much I want us.

Sometimes I think about the moments I didn’t handle well, the times I could’ve been softer, more patient, more present, and it honestly gets to me because the last thing I ever want is to be the reason your heart feels heavy. I promise you I’m trying to grow, to be better for you, to show up in the ways you deserve, not out of pressure but out of love.

When I look back on everything we’ve shared, the soft moments, the messy ones, the late night conversations, the tiny jokes only we understand, it fills me with a warmth I can’t fully explain. You’ve changed me in gentle, beautiful ways without ever asking me to be anything but myself. You’ve shown me comfort, loyalty, and a love that feels honest and real.

Even on the days that weren’t perfect, you stayed with me, you listened, you felt with me, and you made me feel chosen. I hope you know how deeply I appreciate your kindness, your honesty, your softness, the way your heart cares so fiercely yet so gently.

This year with you has made my world fuller, calmer, sweeter, and more certain. You’re my favourite part of every day, and I love you more than I could ever put into words. I only want you, in every version of this life, it is still you.

Thank you for loving me the way you do, for giving me a year that will stay with me forever, and for being the person who feels like home to my heart. Here’s to us, to what we built, and to everything still ahead.`;

// Typewriter effect
function typeMessage(minDelay=70,maxDelay=150){
    const container=document.getElementById('typedText');
    container.innerHTML='';
    const words=message.split(/(\s+)/);
    let i=0;
    function showNext(){
        if(i>=words.length){
            const img=document.getElementById('afterMessageImg');
            img.classList.add('visible');
            showMemorySections();
            return;
        }
        const w=words[i];
        if(/\s+/.test(w)){
            container.appendChild(document.createTextNode(w));
            i++; showNext();
        } else {
            const span=document.createElement('span');
            span.className='word';
            span.textContent=w;
            container.appendChild(span);
            requestAnimationFrame(()=>{span.classList.add('show')});
            i++;
            setTimeout(showNext, rand(minDelay,maxDelay));
        }
    }
    showNext();
}

// Show memory sections
function showMemorySections(){
    document.getElementById('memorySections').style.display='block';
    const sections=document.querySelectorAll('.section');
    sections.forEach((s,i)=>setTimeout(()=>s.classList.add('visible'),i*500));
    startCountUp();
    setTimeout(showVows, sections.length*500 + 500);
}

// Show vows one by one
function showVows(){
    const vows=document.querySelectorAll('#vowSection .vow');
    vows.forEach((v,i)=>{
        setTimeout(()=>v.classList.add('visible'), i*1000);
    });
}

// COUNT-UP TIMER
const officialDate=new Date('2024-11-15T00:00:00');
function startCountUp(){
    function updateCountUp(){
        const now=new Date();
        let diff=now-officialDate;
        const years=Math.floor(diff/(1000*60*60*24*365));
        diff-=years*1000*60*60*24*365;
        const months=Math.floor(diff/(1000*60*60*24*30));
        diff-=months*1000*60*60*24*30;
        const days=Math.floor(diff/(1000*60*60*24));
        diff-=days*1000*60*60*24;
        const hours=Math.floor(diff/(1000*60*60));
        diff-=hours*1000*60*60;
        const minutes=Math.floor(diff/(1000*60));
        diff-=minutes*1000*60;
        const seconds=Math.floor(diff/1000);
        document.getElementById('countUp').textContent=
            `${years} years, ${months} months, ${days} days, ${hours} hours, ${minutes} minutes, ${seconds} seconds`;
    }
    updateCountUp();
    setInterval(updateCountUp,1000);
}

// MUSIC
const audio = document.getElementById('music');
audio.volume = 0; // start muted

// BUTTON CLICK - play music
document.getElementById('pressBtn').addEventListener('click', () => {
    spawnHearts(20);

    // Fade in music
    audio.currentTime = 0;
    audio.play().catch(err => console.warn("Could not play audio:", err));
    let vol = 0;
    const fadeIn = setInterval(() => {
        vol += 0.01;
        if (vol >= 0.8) {
            vol = 0.8;
            clearInterval(fadeIn);
        }
        audio.volume = vol;
    }, 100);

    setTimeout(() => {
        document.getElementById('page1').style.display = 'none';
        document.getElementById('page2').style.display = 'block';
        typeMessage(70,150);
    },5200);
});

// FINAL HEART CLICK
document.getElementById('finalHeartBtn').addEventListener('click',()=>{
    // Slow heart rain
    const interval = setInterval(()=>spawnHearts(3), 300);

    // brighten background
    document.body.style.background = "#2a0f18";

    // show final message
    document.getElementById('finalMessage').style.opacity = 1;

    // stop heart rain after 10s
    setTimeout(()=>clearInterval(interval),10000);

    // disable button after click
    document.getElementById('finalHeartBtn').disabled = true;
});
</script>

</body>
</html>
